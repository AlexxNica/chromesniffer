<html><head><script type="text/javascript" src="apps.js"></script><script>window.dd = function(msg){	console.log(msg);}var tabinfo = {};chrome.tabs.onRemoved.addListener(function(tabId){	// free memory	delete tabinfo[tabId];});chrome.tabs.onUpdated.addListener(function(tabId,changeInfo,tab){	// do not show for chrome page	if (changeInfo.status != 'complete' || /^chrome/i.test(tab.url))		return;		chrome.pageAction.show(tabId);});chrome.extension.onRequest.addListener(function(request, sender, sendResponse) {	if (request.msg == 'sniff') {		if (request.info && request.info.length > 0) // only store available info		{			tabinfo[sender.tab.id] = request.info;		}				sendResponse({});	} else if (request.msg == 'get') {		var info = tabinfo[request.tab];			sendResponse({info: info});	}});</script></head><body></body></html>